{"mappings":"YAIA,IACMA,EAAUC,SAASC,cAAc,WACjCC,EAAYF,SAASC,cAAc,cACnCE,EAAcH,SAASC,cAAc,YACrCG,EAAYJ,SAASC,cAAc,YAgBzC,SAASI,EAAkBC,GACvBA,EAAIC,iBAEJ,IAAwBC,EAAAF,EAAIG,cAAcC,SAAlCC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,MAsBnB,SAAwBC,GAEpB,IAAMC,EAAU,CACZC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBJ,KAAMK,KAAKC,UAAUL,IASzB,OAAOM,MAAM,8CAA+CL,GACvDM,MAAK,SAAAC,GACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,YAEzB,OAAOH,EAAKI,M,KArCpBC,CAJa,CACTf,MAAOA,EAAMgB,MACbf,KAAMA,EAAKe,QAEMP,MAAK,SAAAQ,GACtB1B,EAAU2B,mBAAmB,YAQrC,SAA0BC,G,IAAEC,EAAFD,EAAEC,GAAIpB,EAANmB,EAAMnB,MAAOC,EAAbkB,EAAalB,KAClC,MAAO,gBACCoB,OADeD,EAAG,mBAEnBC,OADCrB,EAAM,qBACFqB,OAALpB,EAAK,mB,CAXiCqB,CAAiBL,G,IAE1DM,OAAM,SAACC,GACJ/B,EAAUgC,UAAY,0B,IAEzBC,SAAQ,WAAQlC,EAAYiC,UAAY,E,IA7BjDrC,EAAQuC,iBAAiB,SAEzB,WACInC,EAAYiC,UAAa,mMAKlBpC,SAASC,cAAc,gBACzBqC,iBAAiB,SAAUjC,E","sources":["src/crud.js"],"sourcesContent":["\n\n// ***************************\n\nlet form;\nconst addPost = document.querySelector('.js-add');\nconst listPosts = document.querySelector(' .js-posts');\nconst formWrapper = document.querySelector('.js-form');\nconst errMesage = document.querySelector(\"js-error\");\n\naddPost.addEventListener('click', handlerAddPosts);\n\nfunction handlerAddPosts() {\n    formWrapper.innerHTML = `<form action=\"submit\" class=\"js-form-add\">\n    <input type=\"text\" name=\"title\">\n    <textarea name=\"body\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\n    <button>Додати пост</button>\n    </form>`;\n    form = document.querySelector('.js-form-add')\n    form.addEventListener('submit', handlerFormSubmit);\n}\n\n// console.log(form);\n\nfunction handlerFormSubmit(evt) {\n    evt.preventDefault();\n    \n    const { title, body } = evt.currentTarget.elements;\n\n    const data = {\n        title: title.value,\n        body: body.value\n    };\n    addPostService(data).then(obj => {\n        listPosts.insertAdjacentHTML('beforeend', createPostMarkup(obj));\n    })\n        .catch((err) => {\n            errMesage.innerHTML = \" Не можливо додати пост!\"\n        })\n        .finally(() => { formWrapper.innerHTML = \"\" });\n}\n\nfunction createPostMarkup({ id, title, body }) {\n     return `<li data-id=\"${id}\">\n       <h2>${title}</h2>\n       <p>${body}</p>\n     </li>`;\n}\n\nfunction addPostService(data) {\n   \n    const options = {\n        method: \"POST\",\n        headers: {\n            \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n            // title: \"Hello from js\",\n            // body: \"eeeeeeeeeeeeeeeeee\",\n            // userId: 12,\n        \n    };\n\n\n\n    return fetch('https://jsonplaceholder.typicode.com/posts1', options)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText);\n            }\n            return resp.json();\n        })\n}\n"],"names":["$66293ca88d879e66$var$addPost","document","querySelector","$66293ca88d879e66$var$listPosts","$66293ca88d879e66$var$formWrapper","$66293ca88d879e66$var$errMesage","$66293ca88d879e66$var$handlerFormSubmit","evt","preventDefault","_elements","currentTarget","elements","title","body","data","options","method","headers","JSON","stringify","fetch","then","resp","ok","Error","statusText","json","$66293ca88d879e66$var$addPostService","value","obj","insertAdjacentHTML","param","id","concat","$66293ca88d879e66$var$createPostMarkup","catch","err","innerHTML","finally","addEventListener"],"version":3,"file":"index.d03dca12.js.map"}