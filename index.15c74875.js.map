{"mappings":"AAIA,IAAIA,EACJ,MAAMC,EAAUC,SAASC,cAAc,WACjCC,EAAYF,SAASC,cAAc,cACnCE,EAAcH,SAASC,cAAc,YACrCG,EAAYJ,SAASC,cAAc,YAgBzC,SAASI,EAAkBC,GACvBA,EAAIC,iBAEJ,MAAMC,MAAEA,EAAKC,KAAEA,GAASH,EAAII,cAAcC,UAsB9C,SAAwBC,GAEpB,MAAMC,EAAU,CACZC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBN,KAAMO,KAAKC,UAAUL,IASzB,OAAOM,MAAM,6CAA8CL,GACtDM,MAAKC,IACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,YAEzB,OAAOH,EAAKI,MAAM,G,EArC1BC,CAJa,CACTjB,MAAOA,EAAMkB,MACbjB,KAAMA,EAAKiB,QAEMP,MAAKQ,IACtBzB,EAAU0B,mBAAmB,YAQrC,UAA0BC,GAAEA,EAAErB,MAAEA,EAAKC,KAAEA,IAClC,MAAO,gBAAgBoB,mBACfrB,qBACDC,mB,CAXsCqB,CAAiBH,GAAK,IAE/DI,OAAOC,IACJ5B,EAAU6B,UAAY,0BAA0B,IAEnDC,SAAQ,KAAQ/B,EAAY8B,UAAY,EAAE,G,CA7BnDlC,EAAQoC,iBAAiB,SAEzB,WACIhC,EAAY8B,UAAY,mMAKxBnC,EAAOE,SAASC,cAAc,gBAC9BH,EAAKqC,iBAAiB,SAAU9B,E","sources":["src/crud.js"],"sourcesContent":["\n\n// ***************************\n\nlet form;\nconst addPost = document.querySelector('.js-add');\nconst listPosts = document.querySelector(' .js-posts');\nconst formWrapper = document.querySelector('.js-form');\nconst errMesage = document.querySelector(\"js-error\");\n\naddPost.addEventListener('click', handlerAddPosts);\n\nfunction handlerAddPosts() {\n    formWrapper.innerHTML = `<form action=\"submit\" class=\"js-form-add\">\n    <input type=\"text\" name=\"title\">\n    <textarea name=\"body\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\n    <button>Додати пост</button>\n    </form>`;\n    form = document.querySelector('.js-form-add')\n    form.addEventListener('submit', handlerFormSubmit);\n}\n\n// console.log(form);\n\nfunction handlerFormSubmit(evt) {\n    evt.preventDefault();\n    \n    const { title, body } = evt.currentTarget.elements;\n\n    const data = {\n        title: title.value,\n        body: body.value\n    };\n    addPostService(data).then(obj => {\n        listPosts.insertAdjacentHTML('beforeend', createPostMarkup(obj));\n    })\n        .catch((err) => {\n            errMesage.innerHTML = \" Не можливо додати пост!\"\n        })\n        .finally(() => { formWrapper.innerHTML = \"\" });\n}\n\nfunction createPostMarkup({ id, title, body }) {\n     return `<li data-id=\"${id}\">\n       <h2>${title}</h2>\n       <p>${body}</p>\n     </li>`;\n}\n\nfunction addPostService(data) {\n   \n    const options = {\n        method: \"POST\",\n        headers: {\n            \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n            // title: \"Hello from js\",\n            // body: \"eeeeeeeeeeeeeeeeee\",\n            // userId: 12,\n        \n    };\n\n\n\n    return fetch('https://jsonplaceholder.typicode.com/posts', options)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText);\n            }\n            return resp.json();\n        })\n}\n"],"names":["$6a38ff115ffc4f93$var$form","$6a38ff115ffc4f93$var$addPost","document","querySelector","$6a38ff115ffc4f93$var$listPosts","$6a38ff115ffc4f93$var$formWrapper","$6a38ff115ffc4f93$var$errMesage","$6a38ff115ffc4f93$var$handlerFormSubmit","evt","preventDefault","title","body","currentTarget","elements","data","options","method","headers","JSON","stringify","fetch","then","resp","ok","Error","statusText","json","$6a38ff115ffc4f93$var$addPostService","value","obj","insertAdjacentHTML","id","$6a38ff115ffc4f93$var$createPostMarkup","catch","err","innerHTML","finally","addEventListener"],"version":3,"file":"index.15c74875.js.map"}